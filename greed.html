<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    /** 502
     * @param {number} k
     * @param {number} W
     * @param {number[]} Profits
     * @param {number[]} Capital
     * @return {number}
     */
    var findMaximizedCapital = function (k, W, Profits, Capital) {
        const len = Profits.length;
        if (!len) {
            return 0;
        }
        let cache = {};
        for (let i = 0; i < len; i++) {
            const key = Profits[i];
            if (cache[key]) {
                cache[key].push(Capital[i]);
            } else {
                cache[key] = [Capital[i]];
            }
        }
        const priority = Object.keys(cache).sort((a, b) => a - b);
        while (k > 0) {
            for (let i = priority.length - 1; i >= 0; i--) {
                let stopped = false;
                const p = priority[i];
                for (let j = 0; j < cache[p].length; j++) {
                    if (W >= cache[p][j]) {
                        W += Number.parseInt(p);
                        k--;
                        cache[p].splice(j, 1);
                        stopped = true;
                        break;
                    }
                }
                if (stopped) break; else if (!i) {
                    k = 0;
                    break;
                }
            }
        }
        return W;
    };
    console.log(findMaximizedCapital(1, 2, [1,2,3], [1,1,2]));
//    console.log(findMaximizedCapital(4, 0, [0, 0, 0], [0, 1, 1]));
//    console.log(findMaximizedCapital(7, 66, [1, 2, 3, 2], [0, 1, 1, 3]));
</script>
</body>
</html>